{"paragraphs":[{"text":"sc","user":"anonymous","dateUpdated":"2017-08-10T10:15:18-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nres70: org.apache.spark.SparkContext = org.apache.spark.SparkContext@4a77e35e\n"}]},"apps":[],"jobName":"paragraph_1502323664155_-118696220","id":"20170809-170744_552630540","dateCreated":"2017-08-09T17:07:44-0700","dateStarted":"2017-08-10T10:15:18-0700","dateFinished":"2017-08-10T10:15:20-0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:230"},{"text":"import org.apache.spark._\nimport org.apache.spark.sql.SQLContext\nimport org.apache.spark.sql.types._\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.functions.unix_timestamp\nimport org.apache.spark.sql._\nimport org.apache.spark.ml.feature.VectorAssembler\nimport org.apache.spark.ml.clustering.KMeans\n","user":"anonymous","dateUpdated":"2017-08-10T11:09:25-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nimport org.apache.spark._\n\nimport org.apache.spark.sql.SQLContext\n\nimport org.apache.spark.sql.types._\n\nimport org.apache.spark.sql.functions._\n\nimport org.apache.spark.sql.functions.unix_timestamp\n\nimport org.apache.spark.sql._\n\nimport org.apache.spark.ml.feature.VectorAssembler\n\nimport org.apache.spark.ml.clustering.KMeans\n"}]},"apps":[],"jobName":"paragraph_1502323722180_-1849838052","id":"20170809-170842_1574199277","dateCreated":"2017-08-09T17:08:42-0700","dateStarted":"2017-08-10T11:09:25-0700","dateFinished":"2017-08-10T11:09:30-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:231"},{"text":"/*\nimport sqlContext.implicits._\nimport sqlContext._\n\nval schema = StructType(Array(\n     StructField(\"dt\", TimestampType, true),\n     StructField(\"lat\", DoubleType, true),\n     StructField(\"lon\", DoubleType,true),\n     StructField(\"base\", StringType, true)\n))\n\nval df = spark.read.option(\"header\",\"false\")\n        .schema(schema).csv(\"uber-raw-data-sep14.csv\")\n\n\ndf.printSchema()\ndf.show()\n*/","user":"anonymous","dateUpdated":"2017-08-10T11:19:02-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1502328524508_1339229492","id":"20170809-182844_431552675","dateCreated":"2017-08-09T18:28:44-0700","dateStarted":"2017-08-10T11:19:02-0700","dateFinished":"2017-08-10T11:19:03-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:232"},{"text":"/*\nimport sqlContext.implicits._\nimport sqlContext._\n\nval schema = StructType(Array(\n     StructField(\"dt\", TimestampType, true),\n     StructField(\"lat\", DoubleType, true),\n     StructField(\"lon\", DoubleType,true),\n     StructField(\"base\", StringType, true)\n))\n\ndf.printSchema()\n\n*/","user":"anonymous","dateUpdated":"2017-08-10T14:55:27-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1502389548230_1495508120","id":"20170810-112548_263866841","dateCreated":"2017-08-10T11:25:48-0700","dateStarted":"2017-08-10T14:55:27-0700","dateFinished":"2017-08-10T14:55:28-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:233"},{"text":"/*\nval df = spark.read\n        .format(\"org.apache.spark.csv\")\n        .option(\"header\", false)\n        .option(\"dateFormat\", \"MM-dd-yyyy HH:mm:ss\")\n        .schema(schema)\n        .csv(\"uber-raw-data-sep14.csv\")\n        \n*/","user":"anonymous","dateUpdated":"2017-08-10T11:45:41-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1502327954567_959066406","id":"20170809-181914_772923893","dateCreated":"2017-08-09T18:19:14-0700","dateStarted":"2017-08-10T11:45:41-0700","dateFinished":"2017-08-10T11:45:43-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:234"},{"text":"val df = spark.read\n        .format(\"csv\")\n        .option(\"header\", true)\n        .option(\"InferSchema\", true)\n        .csv(\"uber-raw-data-sep14.csv\")\n        \ndf.dtypes","user":"anonymous","dateUpdated":"2017-08-10T15:07:31-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ndf: org.apache.spark.sql.DataFrame = [Date/Time: string, Lat: double ... 2 more fields]\n\nres238: Array[(String, String)] = Array((Date/Time,StringType), (Lat,DoubleType), (Lon,DoubleType), (Base,StringType))\n"}]},"apps":[],"jobName":"paragraph_1502390724597_-1583337946","id":"20170810-114524_1937661452","dateCreated":"2017-08-10T11:45:24-0700","dateStarted":"2017-08-10T15:07:31-0700","dateFinished":"2017-08-10T15:07:37-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:235"},{"text":"df.show()","user":"anonymous","dateUpdated":"2017-08-10T15:07:43-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----------------+-------+--------+------+\n|       Date/Time|    Lat|     Lon|  Base|\n+----------------+-------+--------+------+\n|9/1/2014 0:01:00|40.2201|-74.0021|B02512|\n|9/1/2014 0:01:00|  40.75|-74.0027|B02512|\n|9/1/2014 0:03:00|40.7559|-73.9864|B02512|\n|9/1/2014 0:06:00| 40.745|-73.9889|B02512|\n|9/1/2014 0:11:00|40.8145|-73.9444|B02512|\n|9/1/2014 0:12:00|40.6735|-73.9918|B02512|\n|9/1/2014 0:15:00|40.7471|-73.6472|B02512|\n|9/1/2014 0:16:00|40.6613|-74.2691|B02512|\n|9/1/2014 0:32:00|40.3745|-73.9999|B02512|\n|9/1/2014 0:33:00|40.7633|-73.9773|B02512|\n|9/1/2014 0:33:00|40.7467|-73.6131|B02512|\n|9/1/2014 0:37:00|40.8105|  -73.96|B02512|\n|9/1/2014 0:38:00| 40.679|-74.0111|B02512|\n|9/1/2014 0:39:00|40.4023|-73.9839|B02512|\n|9/1/2014 0:48:00|40.7378|-74.0395|B02512|\n|9/1/2014 0:48:00|40.7214|-73.9884|B02512|\n|9/1/2014 0:49:00|40.8646|-73.9081|B02512|\n|9/1/2014 1:08:00|40.7398|-74.0061|B02512|\n|9/1/2014 1:17:00|40.6793|-74.0116|B02512|\n|9/1/2014 1:19:00|40.7328|-73.9875|B02512|\n+----------------+-------+--------+------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1502325015441_-625140741","id":"20170809-173015_1477543069","dateCreated":"2017-08-09T17:30:15-0700","dateStarted":"2017-08-10T15:07:43-0700","dateFinished":"2017-08-10T15:07:44-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:236"},{"text":"// convert column Date/Time from string type to timestamp type\n// reference: https://databricks-prod-cloudfront.cloud.databricks.com/public/4027ec902e239c93eaaa8714f173bcfc/3741049972324885/3696710289009770/4413065072037724/latest.html\n\nval newdf = df.select($\"Date/Time\", unix_timestamp($\"Date/Time\", \"MM/dd/yyyy HH:mm:ss\").cast(TimestampType).as(\"timestamp\"), $\"Lat\", $\"Lon\", $\"Base\")","user":"anonymous","dateUpdated":"2017-08-10T15:54:22-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nnewdf: org.apache.spark.sql.DataFrame = [Date/Time: string, timestamp: timestamp ... 3 more fields]\n"}]},"apps":[],"jobName":"paragraph_1502401455637_-1421558838","id":"20170810-144415_811282236","dateCreated":"2017-08-10T14:44:15-0700","dateStarted":"2017-08-10T15:54:22-0700","dateFinished":"2017-08-10T15:54:23-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:237"},{"text":"newdf.show()","user":"anonymous","dateUpdated":"2017-08-10T15:08:24-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----------------+--------------------+-------+--------+------+\n|       Date/Time|           timestamp|    Lat|     Lon|  Base|\n+----------------+--------------------+-------+--------+------+\n|9/1/2014 0:01:00|2014-09-01 00:01:...|40.2201|-74.0021|B02512|\n|9/1/2014 0:01:00|2014-09-01 00:01:...|  40.75|-74.0027|B02512|\n|9/1/2014 0:03:00|2014-09-01 00:03:...|40.7559|-73.9864|B02512|\n|9/1/2014 0:06:00|2014-09-01 00:06:...| 40.745|-73.9889|B02512|\n|9/1/2014 0:11:00|2014-09-01 00:11:...|40.8145|-73.9444|B02512|\n|9/1/2014 0:12:00|2014-09-01 00:12:...|40.6735|-73.9918|B02512|\n|9/1/2014 0:15:00|2014-09-01 00:15:...|40.7471|-73.6472|B02512|\n|9/1/2014 0:16:00|2014-09-01 00:16:...|40.6613|-74.2691|B02512|\n|9/1/2014 0:32:00|2014-09-01 00:32:...|40.3745|-73.9999|B02512|\n|9/1/2014 0:33:00|2014-09-01 00:33:...|40.7633|-73.9773|B02512|\n|9/1/2014 0:33:00|2014-09-01 00:33:...|40.7467|-73.6131|B02512|\n|9/1/2014 0:37:00|2014-09-01 00:37:...|40.8105|  -73.96|B02512|\n|9/1/2014 0:38:00|2014-09-01 00:38:...| 40.679|-74.0111|B02512|\n|9/1/2014 0:39:00|2014-09-01 00:39:...|40.4023|-73.9839|B02512|\n|9/1/2014 0:48:00|2014-09-01 00:48:...|40.7378|-74.0395|B02512|\n|9/1/2014 0:48:00|2014-09-01 00:48:...|40.7214|-73.9884|B02512|\n|9/1/2014 0:49:00|2014-09-01 00:49:...|40.8646|-73.9081|B02512|\n|9/1/2014 1:08:00|2014-09-01 01:08:...|40.7398|-74.0061|B02512|\n|9/1/2014 1:17:00|2014-09-01 01:17:...|40.6793|-74.0116|B02512|\n|9/1/2014 1:19:00|2014-09-01 01:19:...|40.7328|-73.9875|B02512|\n+----------------+--------------------+-------+--------+------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1502401690628_-1219259182","id":"20170810-144810_360446112","dateCreated":"2017-08-10T14:48:10-0700","dateStarted":"2017-08-10T15:08:24-0700","dateFinished":"2017-08-10T15:08:25-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:238"},{"text":"val newdf1 = newdf.select($\"Date/Time\", $\"timestamp\", $\"Lat\", $\"Lon\", $\"Base\", unix_timestamp($\"timestamp\", \"E\").as(\"weekday\"))\nnewdf1.show()","user":"anonymous","dateUpdated":"2017-08-10T16:00:05-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nnewdf1: org.apache.spark.sql.DataFrame = [Date/Time: string, timestamp: timestamp ... 4 more fields]\n+----------------+--------------------+-------+--------+------+----------+\n|       Date/Time|           timestamp|    Lat|     Lon|  Base|   weekday|\n+----------------+--------------------+-------+--------+------+----------+\n|9/1/2014 0:01:00|2014-09-01 00:01:...|40.2201|-74.0021|B02512|1409554860|\n|9/1/2014 0:01:00|2014-09-01 00:01:...|  40.75|-74.0027|B02512|1409554860|\n|9/1/2014 0:03:00|2014-09-01 00:03:...|40.7559|-73.9864|B02512|1409554980|\n|9/1/2014 0:06:00|2014-09-01 00:06:...| 40.745|-73.9889|B02512|1409555160|\n|9/1/2014 0:11:00|2014-09-01 00:11:...|40.8145|-73.9444|B02512|1409555460|\n|9/1/2014 0:12:00|2014-09-01 00:12:...|40.6735|-73.9918|B02512|1409555520|\n|9/1/2014 0:15:00|2014-09-01 00:15:...|40.7471|-73.6472|B02512|1409555700|\n|9/1/2014 0:16:00|2014-09-01 00:16:...|40.6613|-74.2691|B02512|1409555760|\n|9/1/2014 0:32:00|2014-09-01 00:32:...|40.3745|-73.9999|B02512|1409556720|\n|9/1/2014 0:33:00|2014-09-01 00:33:...|40.7633|-73.9773|B02512|1409556780|\n|9/1/2014 0:33:00|2014-09-01 00:33:...|40.7467|-73.6131|B02512|1409556780|\n|9/1/2014 0:37:00|2014-09-01 00:37:...|40.8105|  -73.96|B02512|1409557020|\n|9/1/2014 0:38:00|2014-09-01 00:38:...| 40.679|-74.0111|B02512|1409557080|\n|9/1/2014 0:39:00|2014-09-01 00:39:...|40.4023|-73.9839|B02512|1409557140|\n|9/1/2014 0:48:00|2014-09-01 00:48:...|40.7378|-74.0395|B02512|1409557680|\n|9/1/2014 0:48:00|2014-09-01 00:48:...|40.7214|-73.9884|B02512|1409557680|\n|9/1/2014 0:49:00|2014-09-01 00:49:...|40.8646|-73.9081|B02512|1409557740|\n|9/1/2014 1:08:00|2014-09-01 01:08:...|40.7398|-74.0061|B02512|1409558880|\n|9/1/2014 1:17:00|2014-09-01 01:17:...|40.6793|-74.0116|B02512|1409559420|\n|9/1/2014 1:19:00|2014-09-01 01:19:...|40.7328|-73.9875|B02512|1409559540|\n+----------------+--------------------+-------+--------+------+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1502405629410_-1816751275","id":"20170810-155349_780557568","dateCreated":"2017-08-10T15:53:49-0700","dateStarted":"2017-08-10T16:00:05-0700","dateFinished":"2017-08-10T16:00:10-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:239"},{"text":"/*\n// split date and time into separate columns\nimport org.apache.spark.sql.functions.split\n\nval uber = df.select(\n  split($\"Date/Time\", \" \")(0).alias(\"date\"),\n  split($\"Date/Time\", \" \")(1).alias(\"time\"),\n  $\"Lat\",$\"Lon\",$\"Base\"\n)\n\n//reference : https://stackoverflow.com/questions/44750844/how-to-split-column-to-two-different-columns\n\nuber.show()\n*/\n","user":"anonymous","dateUpdated":"2017-08-10T15:08:58-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1502343901207_-614338162","id":"20170809-224501_520322100","dateCreated":"2017-08-09T22:45:01-0700","dateStarted":"2017-08-10T15:08:44-0700","dateFinished":"2017-08-10T15:08:45-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:240"},{"text":"// define feature columns to put in the feature vectors\nval featureCols = Array(\"Lat\",\"Lon\")\n\n// set the input column names\nval assembler = new VectorAssembler().setInputCols(featureCols).setOutputCol(\"features\")\n\n// return a dataframe with all of the feature columns in a vector column\nval df2 = assembler.transform(newdf)","user":"anonymous","dateUpdated":"2017-08-10T15:09:02-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nfeatureCols: Array[String] = Array(Lat, Lon)\n\nassembler: org.apache.spark.ml.feature.VectorAssembler = vecAssembler_6c24b2cee347\n\ndf2: org.apache.spark.sql.DataFrame = [Date/Time: string, timestamp: timestamp ... 4 more fields]\n"}]},"apps":[],"jobName":"paragraph_1502325033870_-1855552399","id":"20170809-173033_1997534290","dateCreated":"2017-08-09T17:30:33-0700","dateStarted":"2017-08-10T15:09:02-0700","dateFinished":"2017-08-10T15:09:05-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:241"},{"text":"df2.show()","user":"anonymous","dateUpdated":"2017-08-10T15:09:11-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----------------+--------------------+-------+--------+------+------------------+\n|       Date/Time|           timestamp|    Lat|     Lon|  Base|          features|\n+----------------+--------------------+-------+--------+------+------------------+\n|9/1/2014 0:01:00|2014-09-01 00:01:...|40.2201|-74.0021|B02512|[40.2201,-74.0021]|\n|9/1/2014 0:01:00|2014-09-01 00:01:...|  40.75|-74.0027|B02512|  [40.75,-74.0027]|\n|9/1/2014 0:03:00|2014-09-01 00:03:...|40.7559|-73.9864|B02512|[40.7559,-73.9864]|\n|9/1/2014 0:06:00|2014-09-01 00:06:...| 40.745|-73.9889|B02512| [40.745,-73.9889]|\n|9/1/2014 0:11:00|2014-09-01 00:11:...|40.8145|-73.9444|B02512|[40.8145,-73.9444]|\n|9/1/2014 0:12:00|2014-09-01 00:12:...|40.6735|-73.9918|B02512|[40.6735,-73.9918]|\n|9/1/2014 0:15:00|2014-09-01 00:15:...|40.7471|-73.6472|B02512|[40.7471,-73.6472]|\n|9/1/2014 0:16:00|2014-09-01 00:16:...|40.6613|-74.2691|B02512|[40.6613,-74.2691]|\n|9/1/2014 0:32:00|2014-09-01 00:32:...|40.3745|-73.9999|B02512|[40.3745,-73.9999]|\n|9/1/2014 0:33:00|2014-09-01 00:33:...|40.7633|-73.9773|B02512|[40.7633,-73.9773]|\n|9/1/2014 0:33:00|2014-09-01 00:33:...|40.7467|-73.6131|B02512|[40.7467,-73.6131]|\n|9/1/2014 0:37:00|2014-09-01 00:37:...|40.8105|  -73.96|B02512|  [40.8105,-73.96]|\n|9/1/2014 0:38:00|2014-09-01 00:38:...| 40.679|-74.0111|B02512| [40.679,-74.0111]|\n|9/1/2014 0:39:00|2014-09-01 00:39:...|40.4023|-73.9839|B02512|[40.4023,-73.9839]|\n|9/1/2014 0:48:00|2014-09-01 00:48:...|40.7378|-74.0395|B02512|[40.7378,-74.0395]|\n|9/1/2014 0:48:00|2014-09-01 00:48:...|40.7214|-73.9884|B02512|[40.7214,-73.9884]|\n|9/1/2014 0:49:00|2014-09-01 00:49:...|40.8646|-73.9081|B02512|[40.8646,-73.9081]|\n|9/1/2014 1:08:00|2014-09-01 01:08:...|40.7398|-74.0061|B02512|[40.7398,-74.0061]|\n|9/1/2014 1:17:00|2014-09-01 01:17:...|40.6793|-74.0116|B02512|[40.6793,-74.0116]|\n|9/1/2014 1:19:00|2014-09-01 01:19:...|40.7328|-73.9875|B02512|[40.7328,-73.9875]|\n+----------------+--------------------+-------+--------+------+------------------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1502331922210_-1208155226","id":"20170809-192522_955671617","dateCreated":"2017-08-09T19:25:22-0700","dateStarted":"2017-08-10T15:09:11-0700","dateFinished":"2017-08-10T15:09:13-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:242"},{"text":"// create k means object\n// set the parameters to define the number of clusters and the maximum number of iterations to determine the clusters\n// fit the model to the input data\n\nval Array(trainingData, testData) = df2.randomSplit(Array(0.8, 0.2))\nval kmeans = new KMeans().setK(8).setFeaturesCol(\"features\").setPredictionCol(\"prediction\")\nval model = kmeans.fit(df2)\n\n// 8 clusters based on 'features'\nprintln(\"Final Clusters: \")\nmodel.clusterCenters.foreach(println)","user":"anonymous","dateUpdated":"2017-08-10T15:35:16-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\ntrainingData: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [Date/Time: string, timestamp: timestamp ... 4 more fields]\ntestData: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [Date/Time: string, timestamp: timestamp ... 4 more fields]\n\nkmeans: org.apache.spark.ml.clustering.KMeans = kmeans_c3b3c2a47d3a\n\nmodel: org.apache.spark.ml.clustering.KMeansModel = kmeans_c3b3c2a47d3a\nFinal Clusters: \n[40.728105828693934,-73.99965521944587]\n[40.65556399125829,-73.78304139206466]\n[40.687278468416395,-73.96337435482819]\n[40.77336770751877,-73.86570066236195]\n[40.858524679487246,-73.59887399267402]\n[40.6972876332623,-74.20379686954863]\n[40.75740901039968,-73.97954068909587]\n[40.79351345875666,-73.9524904773385]\n"}]},"apps":[],"jobName":"paragraph_1502331981948_-861603736","id":"20170809-192621_197690955","dateCreated":"2017-08-09T19:26:21-0700","dateStarted":"2017-08-10T15:09:27-0700","dateFinished":"2017-08-10T15:10:23-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:243"},{"text":"  // apply the trained model on test dataset\n  \n  val categories = model.transform(testData)\n  categories.show()","user":"anonymous","dateUpdated":"2017-08-10T15:36:51-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ncategories: org.apache.spark.sql.DataFrame = [Date/Time: string, timestamp: timestamp ... 5 more fields]\n+----------------+--------------------+-------+--------+------+------------------+----------+\n|       Date/Time|           timestamp|    Lat|     Lon|  Base|          features|prediction|\n+----------------+--------------------+-------+--------+------+------------------+----------+\n|9/1/2014 0:00:00|2014-09-01 00:00:...|40.7107|-73.9666|B02617|[40.7107,-73.9666]|         2|\n|9/1/2014 0:00:00|2014-09-01 00:00:...|40.7222|-73.9881|B02598|[40.7222,-73.9881]|         0|\n|9/1/2014 0:00:00|2014-09-01 00:00:...|40.7255|-73.9923|B02617|[40.7255,-73.9923]|         0|\n|9/1/2014 0:00:00|2014-09-01 00:00:...|40.7267|-73.9409|B02598|[40.7267,-73.9409]|         2|\n|9/1/2014 0:00:00|2014-09-01 00:00:...|  40.73|-73.9896|B02598|  [40.73,-73.9896]|         0|\n|9/1/2014 0:01:00|2014-09-01 00:01:...|40.7537|-73.8569|B02617|[40.7537,-73.8569]|         3|\n|9/1/2014 0:01:00|2014-09-01 00:01:...|40.7634|-73.9242|B02617|[40.7634,-73.9242]|         7|\n|9/1/2014 0:02:00|2014-09-01 00:02:...|40.7474|-74.0085|B02617|[40.7474,-74.0085]|         0|\n|9/1/2014 0:05:00|2014-09-01 00:05:...|40.6356|-73.7311|B02617|[40.6356,-73.7311]|         1|\n|9/1/2014 0:05:00|2014-09-01 00:05:...|40.7034|-73.9908|B02617|[40.7034,-73.9908]|         0|\n|9/1/2014 0:05:00|2014-09-01 00:05:...|40.7206|-73.9871|B02598|[40.7206,-73.9871]|         0|\n|9/1/2014 0:06:00|2014-09-01 00:06:...|40.6611|-73.9938|B02617|[40.6611,-73.9938]|         2|\n|9/1/2014 0:06:00|2014-09-01 00:06:...|40.7621| -73.986|B02617| [40.7621,-73.986]|         6|\n|9/1/2014 0:10:00|2014-09-01 00:10:...|40.7051|-73.9307|B02598|[40.7051,-73.9307]|         2|\n|9/1/2014 0:10:00|2014-09-01 00:10:...|40.7471| -73.987|B02617| [40.7471,-73.987]|         6|\n|9/1/2014 0:10:00|2014-09-01 00:10:...|40.7555| -73.974|B02617| [40.7555,-73.974]|         6|\n|9/1/2014 0:10:00|2014-09-01 00:10:...|40.7648|-73.9473|B02598|[40.7648,-73.9473]|         7|\n|9/1/2014 0:10:00|2014-09-01 00:10:...|40.7774|-73.9787|B02617|[40.7774,-73.9787]|         6|\n|9/1/2014 0:11:00|2014-09-01 00:11:...|40.7326|-73.9881|B02617|[40.7326,-73.9881]|         0|\n|9/1/2014 0:12:00|2014-09-01 00:12:...|40.7985|-73.9412|B02617|[40.7985,-73.9412]|         7|\n+----------------+--------------------+-------+--------+------+------------------+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1502333409836_221936931","id":"20170809-195009_913237796","dateCreated":"2017-08-09T19:50:09-0700","dateStarted":"2017-08-10T15:10:27-0700","dateFinished":"2017-08-10T15:10:35-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:244"},{"title":"1. Which hours of the day and which cluster had the highest number of pickups?","user":"anonymous","dateUpdated":"2017-08-10T15:19:08-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1502339643329_-1830763634","id":"20170809-213403_1100420164","dateCreated":"2017-08-09T21:34:03-0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:245"},{"text":"categories.select(hour($\"timestamp\").alias(\"hour\"), $\"prediction\")\n          .groupBy(\"hour\", \"prediction\")\n          .agg(count(\"prediction\").alias(\"count\"))\n          .orderBy(desc(\"count\")).show","user":"anonymous","dateUpdated":"2017-08-10T15:10:58-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----+----------+-----+\n|hour|prediction|count|\n+----+----------+-----+\n|  17|         6| 5813|\n|  18|         6| 5770|\n|  16|         6| 5467|\n|  18|         0| 5200|\n|  19|         0| 5029|\n|  19|         6| 5020|\n|  17|         0| 4952|\n|  15|         6| 4704|\n|  20|         0| 4531|\n|  16|         0| 4501|\n|  21|         0| 4467|\n|  20|         6| 4329|\n|  15|         0| 4073|\n|  22|         0| 4038|\n|  21|         6| 3788|\n|  14|         0| 3565|\n|  14|         6| 3557|\n|  23|         0| 3248|\n|  13|         0| 2969|\n|  13|         6| 2936|\n+----+----------+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1502333624981_-306937921","id":"20170809-195344_1475055524","dateCreated":"2017-08-09T19:53:44-0700","dateStarted":"2017-08-10T15:10:58-0700","dateFinished":"2017-08-10T15:11:15-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:246"},{"text":"z.show(categories.select(hour($\"timestamp\").alias(\"hour\"), $\"prediction\")\n          .groupBy(\"hour\", \"prediction\")\n          .agg(count(\"prediction\").alias(\"count\"))\n          .orderBy(desc(\"count\")))","user":"anonymous","dateUpdated":"2017-08-10T15:20:21-0700","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{"stacked":true}},"commonSetting":{},"keys":[{"name":"hour","index":0,"aggr":"sum"}],"groups":[{"name":"prediction","index":1,"aggr":"sum"}],"values":[{"name":"count","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hour\tprediction\tcount\n17\t6\t5813\n18\t6\t5770\n16\t6\t5467\n18\t0\t5200\n19\t0\t5029\n19\t6\t5020\n17\t0\t4952\n15\t6\t4704\n20\t0\t4531\n16\t0\t4501\n21\t0\t4467\n20\t6\t4329\n15\t0\t4073\n22\t0\t4038\n21\t6\t3788\n14\t0\t3565\n14\t6\t3557\n23\t0\t3248\n13\t0\t2969\n13\t6\t2936\n22\t6\t2900\n8\t6\t2853\n8\t0\t2847\n7\t6\t2722\n7\t0\t2671\n12\t6\t2669\n11\t6\t2604\n12\t0\t2576\n9\t6\t2504\n11\t0\t2474\n10\t6\t2471\n10\t0\t2390\n0\t0\t2378\n9\t0\t2336\n6\t0\t1976\n23\t6\t1843\n6\t6\t1727\n21\t2\t1668\n19\t2\t1663\n20\t2\t1646\n18\t2\t1629\n7\t7\t1574\n1\t0\t1569\n22\t2\t1520\n17\t2\t1466\n8\t7\t1405\n17\t7\t1354\n16\t7\t1323\n6\t7\t1316\n18\t7\t1309\n16\t2\t1280\n23\t2\t1235\n7\t2\t1227\n9\t2\t1220\n15\t7\t1217\n15\t2\t1187\n8\t2\t1177\n14\t7\t1163\n5\t0\t1152\n13\t2\t1133\n14\t2\t1122\n11\t2\t1109\n12\t2\t1076\n19\t7\t1075\n6\t2\t1068\n0\t6\t1060\n10\t2\t1059\n2\t0\t1055\n20\t7\t1042\n9\t7\t1030\n21\t7\t995\n5\t6\t983\n13\t7\t948\n10\t7\t914\n0\t2\t911\n11\t7\t870\n5\t2\t846\n3\t0\t836\n12\t7\t795\n4\t0\t794\n22\t7\t731\n4\t6\t643\n1\t2\t635\n5\t7\t629\n1\t6\t624\n19\t3\t610\n20\t3\t608\n18\t3\t602\n17\t3\t569\n21\t3\t549\n16\t3\t546\n4\t2\t538\n15\t3\t529\n14\t1\t510\n2\t6\t503\n3\t6\t494\n20\t1\t454\n3\t2\t448\n19\t1\t442\n23\t7\t434\n14\t3\t423\n22\t3\t417\n21\t1\t415\n18\t1\t410\n2\t2\t409\n11\t3\t402\n9\t3\t401\n13\t3\t393\n15\t1\t368\n10\t3\t362\n16\t1\t361\n22\t1\t360\n8\t3\t351\n12\t3\t331\n4\t7\t316\n7\t3\t305\n0\t7\t303\n6\t1\t298\n17\t1\t298\n23\t1\t268\n6\t3\t256\n5\t1\t255\n13\t1\t252\n23\t3\t246\n3\t7\t235\n12\t1\t206\n15\t5\t192\n1\t7\t178\n14\t5\t154\n9\t1\t152\n5\t3\t151\n2\t7\t146\n11\t1\t145\n4\t1\t142\n16\t5\t140\n17\t5\t139\n21\t5\t137\n7\t1\t130\n10\t1\t127\n19\t5\t125\n18\t5\t122\n22\t5\t122\n13\t5\t118\n20\t5\t114\n0\t3\t112\n8\t1\t111\n23\t5\t100\n11\t5\t98\n0\t1\t80\n4\t3\t78\n10\t5\t71\n7\t5\t68\n12\t5\t68\n16\t4\t66\n14\t4\t62\n18\t4\t59\n17\t4\t59\n6\t5\t58\n15\t4\t56\n3\t3\t56\n8\t5\t55\n9\t5\t55\n13\t4\t55\n12\t4\t53\n20\t4\t52\n1\t3\t51\n5\t5\t51\n2\t3\t48\n21\t4\t48\n10\t4\t46\n9\t4\t43\n22\t4\t43\n4\t5\t42\n1\t1\t40\n3\t1\t38\n19\t4\t36\n11\t4\t33\n8\t4\t31\n6\t4\t29\n0\t5\t26\n0\t4\t26\n23\t4\t25\n5\t4\t23\n7\t4\t22\n1\t5\t18\n2\t1\t17\n4\t4\t15\n3\t5\t13\n1\t4\t11\n2\t5\t8\n2\t4\t6\n3\t4\t5\n"}]},"apps":[],"jobName":"paragraph_1502340252658_-1541563801","id":"20170809-214412_723794660","dateCreated":"2017-08-09T21:44:12-0700","dateStarted":"2017-08-10T15:11:31-0700","dateFinished":"2017-08-10T15:11:39-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:247"},{"title":"2. How many pickups occurred in each cluster?","user":"anonymous","dateUpdated":"2017-08-10T15:21:33-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1502339274866_605144594","id":"20170809-212754_1567860801","dateCreated":"2017-08-09T21:27:54-0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:248"},{"text":"categories.groupBy($\"prediction\")\n          .agg(count(\"prediction\").alias(\"count\"))\n          .orderBy(desc(\"count\")).show()","user":"anonymous","dateUpdated":"2017-08-09T21:42:05-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----------+-----+\n|prediction|count|\n+----------+-----+\n|         0|71775|\n|         6|68258|\n|         2|27463|\n|         7|21356|\n|         3| 8566|\n|         1| 5993|\n|         5| 2008|\n|         4|  867|\n+----------+-----+\n\n"}]},"apps":[],"jobName":"paragraph_1502339842465_1114194748","id":"20170809-213722_9362091","dateCreated":"2017-08-09T21:37:22-0700","dateStarted":"2017-08-09T21:42:05-0700","dateFinished":"2017-08-09T21:42:13-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:249"},{"text":"z.show(categories.groupBy($\"prediction\")\n                 .agg(count(\"prediction\").alias(\"count\"))\n                 .orderBy(desc(\"count\")))","user":"anonymous","dateUpdated":"2017-08-09T21:52:01-0700","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{"stacked":false}},"commonSetting":{},"keys":[{"name":"prediction","index":0,"aggr":"sum"}],"groups":[{"name":"prediction","index":0,"aggr":"sum"}],"values":[{"name":"count","index":1,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"prediction\tcount\n0\t71775\n6\t68258\n2\t27463\n7\t21356\n3\t8566\n1\t5993\n5\t2008\n4\t867\n"}]},"apps":[],"jobName":"paragraph_1502340114603_292166426","id":"20170809-214154_1288390825","dateCreated":"2017-08-09T21:41:54-0700","dateStarted":"2017-08-09T21:46:46-0700","dateFinished":"2017-08-09T21:46:52-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:250"},{"title":"3. Which base(location) has the maximum number of pickups?","text":"","user":"anonymous","dateUpdated":"2017-08-10T15:22:15-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1502340405978_1909480591","id":"20170809-214645_1113721354","dateCreated":"2017-08-09T21:46:45-0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:251"},{"text":"categories.groupBy($\"Base\")\n          .agg(count(\"prediction\").alias(count))\n          .orderBy(desc(\"count\")).show()\n/*          \n// Plot      \nz.show(categories.groupBy($\"Base\")\n          .agg(count(\"prediction\").alias(\"count\"))\n          .orderBy(desc(\"count\")))\n*/","user":"anonymous","dateUpdated":"2017-08-11T09:44:12-0700","config":{"colWidth":12,"enabled":true,"results":{"1":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"setting":{"multiBarChart":{"stacked":false}},"commonSetting":{},"keys":[{"name":"Base","index":0,"aggr":"sum"}],"groups":[{"name":"Base","index":0,"aggr":"sum"}],"values":[{"name":"count","index":1,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+------+-----+\n|  Base|count|\n+------+-----+\n|B02617|75479|\n|B02598|48164|\n|B02682|39201|\n|B02764|35728|\n|B02512| 6886|\n+------+-----+\n\n"}]},"apps":[],"jobName":"paragraph_1502403746435_-704924356","id":"20170810-152226_172644850","dateCreated":"2017-08-10T15:22:26-0700","dateStarted":"2017-08-10T15:50:49-0700","dateFinished":"2017-08-10T15:51:00-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:252"},{"title":"4. Which weekday has the maximum number of pickups?","user":"anonymous","dateUpdated":"2017-08-10T16:02:05-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1502403958565_-1619378378","id":"20170810-152558_1556075856","dateCreated":"2017-08-10T15:25:58-0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:253"},{"text":"categories.groupBy(weekofyear($\"timestamp\").alias(\"weekday\"))\n          .agg(count(\"prediction\").alias(\"count\"))\n          .orderBy(desc(\"count\")).show()","user":"anonymous","dateUpdated":"2017-08-10T16:03:16-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-------+-----+\n|weekday|count|\n+-------+-----+\n|     38|49937|\n|     37|49542|\n|     39|46740|\n|     36|46566|\n|     40|12673|\n+-------+-----+\n\n"}]},"apps":[],"jobName":"paragraph_1502406135168_161365938","id":"20170810-160215_24970888","dateCreated":"2017-08-10T16:02:15-0700","dateStarted":"2017-08-10T16:03:16-0700","dateFinished":"2017-08-10T16:03:32-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:254"},{"text":"case class Map( lat : Float, lon : Float)","user":"anonymous","dateUpdated":"2017-08-10T17:39:08-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ndefined class Map\n"}]},"apps":[],"jobName":"paragraph_1502406186779_-2134553343","id":"20170810-160306_1539905399","dateCreated":"2017-08-10T16:03:06-0700","dateStarted":"2017-08-10T17:39:09-0700","dateFinished":"2017-08-10T17:39:12-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:255"},{"text":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\nimport org.apache.spark.mllib.linalg.Vector\n\nval myMapRDD = sc.parallelize(model.clusterCenters).map(s => Map(s(0).toFloat, s(1).toFloat))","user":"anonymous","dateUpdated":"2017-08-10T23:17:28-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nimport org.apache.commons.io.IOUtils\n\nimport java.net.URL\n\nimport java.nio.charset.Charset\n\nimport org.apache.spark.mllib.linalg.Vector\n\nmyMapRDD: org.apache.spark.rdd.RDD[Map] = MapPartitionsRDD[420] at map at <console>:222\n"}]},"apps":[],"jobName":"paragraph_1502411948702_1937299509","id":"20170810-173908_1312888204","dateCreated":"2017-08-10T17:39:08-0700","dateStarted":"2017-08-10T23:17:28-0700","dateFinished":"2017-08-10T23:17:36-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:256"},{"text":"\nval myMapDF = myMapRDD.toDF()\nmyMapDF.show()","user":"anonymous","dateUpdated":"2017-08-10T23:18:05-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nmyMapDF: org.apache.spark.sql.DataFrame = [lat: float, lon: float]\n+---------+---------+\n|      lat|      lon|\n+---------+---------+\n|40.728107|-73.99966|\n|40.655563|-73.78304|\n| 40.68728|-73.96337|\n| 40.77337| -73.8657|\n|40.858524|-73.59888|\n| 40.69729| -74.2038|\n| 40.75741|-73.97954|\n|40.793514|-73.95249|\n+---------+---------+\n\n"}]},"apps":[],"jobName":"paragraph_1502413574779_2129972220","id":"20170810-180614_1077289765","dateCreated":"2017-08-10T18:06:14-0700","dateStarted":"2017-08-10T23:18:05-0700","dateFinished":"2017-08-10T23:18:10-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:257"},{"text":"myMapDF.createOrReplaceTempView(\"ClusterMap\")","user":"anonymous","dateUpdated":"2017-08-10T23:18:15-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1502412894131_-765273120","id":"20170810-175454_1257313350","dateCreated":"2017-08-10T17:54:54-0700","dateStarted":"2017-08-10T23:18:15-0700","dateFinished":"2017-08-10T23:18:17-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:258"},{"text":"%sql\n\nselect * from ClusterMap","user":"anonymous","dateUpdated":"2017-08-10T23:58:43-0700","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":true},"helium":{}}},"editorSetting":{"language":"text","editOnDblClick":false},"editorMode":"ace/mode/text"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"lat\tlon\n40.728107\t-73.99966\n40.655563\t-73.78304\n40.68728\t-73.96337\n40.77337\t-73.8657\n40.858524\t-73.59888\n40.69729\t-74.2038\n40.75741\t-73.97954\n40.793514\t-73.95249\n"}]},"apps":[],"jobName":"paragraph_1502431624129_123170245","id":"20170810-230704_405721236","dateCreated":"2017-08-10T23:07:04-0700","dateStarted":"2017-08-10T23:18:21-0700","dateFinished":"2017-08-10T23:18:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:259"},{"text":"%angular \n\n<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css\" />\n<div id=\"map\" style=\"height: 800px; width: 100%\"> </div>\n<script type=\"text/javascript\">\nfunction initMap() {\n    var map = L.map('map').setView([40.728105828693934,-73.99965521944587],\n                                   [40.65556399125829,-73.78304139206466],\n                                   [40.687278468416395,-73.96337435482819],\n                                   [40.77336770751877,-73.86570066236195],\n                                   [40.858524679487246,-73.59887399267402],\n                                   [40.6972876332623,-74.20379686954863],\n                                   [40.75740901039968,-73.97954068909587],\n                                   [40.79351345875666,-73.9524904773385]);\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        maxZoom: 15,\n        minZoom: 3\n    }).addTo(map);\n    var geoMarkers = L.layerGroup().addTo(map);\n   \n}\nif (window.L) {\n    initMap();\n} else {\n    console.log('Loading Leaflet library');\n    var sc = document.createElement('script');\n    sc.type = 'text/javascript';\n    sc.src = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    sc.onload = initMap;\n    sc.onerror = function(err) { alert(err); }\n    document.getElementsByTagName('head')[0].appendChild(sc);\n}\n</script>","user":"anonymous","dateUpdated":"2017-08-11T00:15:05-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":"<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css\" />\n<div id=\"map\" style=\"height: 800px; width: 100%\"> </div>\n<script type=\"text/javascript\">\nfunction initMap() {\n    var map = L.map('map').setView([40.728105828693934,-73.99965521944587],\n                                   [40.65556399125829,-73.78304139206466],\n                                   [40.687278468416395,-73.96337435482819],\n                                   [40.77336770751877,-73.86570066236195],\n                                   [40.858524679487246,-73.59887399267402],\n                                   [40.6972876332623,-74.20379686954863],\n                                   [40.75740901039968,-73.97954068909587],\n                                   [40.79351345875666,-73.9524904773385]);\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        maxZoom: 15,\n        minZoom: 3\n    }).addTo(map);\n    var geoMarkers = L.layerGroup().addTo(map);\n   \n}\nif (window.L) {\n    initMap();\n} else {\n    console.log('Loading Leaflet library');\n    var sc = document.createElement('script');\n    sc.type = 'text/javascript';\n    sc.src = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    sc.onload = initMap;\n    sc.onerror = function(err) { alert(err); }\n    document.getElementsByTagName('head')[0].appendChild(sc);\n}\n</script>"}]},"apps":[],"jobName":"paragraph_1502434559601_-1337664736","id":"20170810-235559_877940776","dateCreated":"2017-08-10T23:55:59-0700","dateStarted":"2017-08-11T00:15:05-0700","dateFinished":"2017-08-11T00:15:05-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:260"},{"text":"%angular\n","user":"anonymous","dateUpdated":"2017-08-11T00:04:50-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1502434859103_-172246638","id":"20170811-000059_1548009616","dateCreated":"2017-08-11T00:00:59-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:261"},{"text":"%angular \n\n<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css\" />\n<div id=\"map\" style=\"height: 800px; width: 100%\"> </div>\n<script type=\"text/javascript\">\nfunction initMap() {\n    var map = L.map('map').setView([40.728105828693934,-73.99965521944587],\n                                   [40.65556399125829,-73.78304139206466],\n                                   [40.687278468416395,-73.96337435482819],\n                                   [40.77336770751877,-73.86570066236195],\n                                   [40.858524679487246,-73.59887399267402],\n                                   [40.6972876332623,-74.20379686954863],\n                                   [40.75740901039968,-73.97954068909587],\n                                   [40.79351345875666,-73.9524904773385]);\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        maxZoom: 15,\n        minZoom: 3\n    }).addTo(map);\n    var geoMarkers = L.layerGroup().addTo(map);\n    \n      $.getJSON(\"https://raw.githubusercontent.com/BrooksIan/DS_GTDB/master/json/Mesa.geojson\",function(data){\n          L.geoJson(data).addTo(map);\n      });\n}\nif (window.L) {\n    initMap();\n} else {\n    console.log('Loading Leaflet library');\n    var sc = document.createElement('script');\n    sc.type = 'text/javascript';\n    sc.src = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    sc.onload = initMap;\n    sc.onerror = function(err) { alert(err); }\n    document.getElementsByTagName('head')[0].appendChild(sc);\n}\n</script>\n","user":"anonymous","dateUpdated":"2017-08-11T00:15:28-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true},"editorMode":"ace/mode/undefined","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":"<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css\" />\n<div id=\"map\" style=\"height: 800px; width: 100%\"> </div>\n<script type=\"text/javascript\">\nfunction initMap() {\n    var map = L.map('map').setView([40.728105828693934,-73.99965521944587],\n                                   [40.65556399125829,-73.78304139206466],\n                                   [40.687278468416395,-73.96337435482819],\n                                   [40.77336770751877,-73.86570066236195],\n                                   [40.858524679487246,-73.59887399267402],\n                                   [40.6972876332623,-74.20379686954863],\n                                   [40.75740901039968,-73.97954068909587],\n                                   [40.79351345875666,-73.9524904773385]);\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n        maxZoom: 15,\n        minZoom: 3\n    }).addTo(map);\n    var geoMarkers = L.layerGroup().addTo(map);\n    \n      $.getJSON(\"https://raw.githubusercontent.com/BrooksIan/DS_GTDB/master/json/Mesa.geojson\",function(data){\n          L.geoJson(data).addTo(map);\n      });\n}\nif (window.L) {\n    initMap();\n} else {\n    console.log('Loading Leaflet library');\n    var sc = document.createElement('script');\n    sc.type = 'text/javascript';\n    sc.src = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    sc.onload = initMap;\n    sc.onerror = function(err) { alert(err); }\n    document.getElementsByTagName('head')[0].appendChild(sc);\n}\n</script>"}]},"apps":[],"jobName":"paragraph_1502435527063_324834141","id":"20170811-001207_457245656","dateCreated":"2017-08-11T00:12:07-0700","dateStarted":"2017-08-11T00:15:28-0700","dateFinished":"2017-08-11T00:15:28-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:262"},{"text":"%spark.r\n\nlibrary(googleVis)\n\nc1 =list(40.728105828693934,-73.99965521944587)\nc2 = list(40.65556399125829,-73.78304139206466)\nc3 = list(40.687278468416395,-73.96337435482819)\nc4 = list(40.77336770751877,-73.86570066236195)\nc5 = list(40.858524679487246,-73.59887399267402)\nc6 = list(40.6972876332623,-74.20379686954863)\nc7 = list(40.75740901039968,-73.97954068909587)\nc8 = list(40.79351345875666,-73.9524904773385)\n\nmylist = list(c1,c2,c3,c4,c5,c6,c7)\nmydf = data.frame(mylist)\nmydf\n\n\n#op <- options(gvis.plot.tag = \"chart\")\n#Geo = gvisGeoChart(mydf, locationvar = , options= list(projection = 'kavrayskiy-vii'))\n#plot(Geo)\n\n","user":"anonymous","dateUpdated":"2017-08-11T00:42:02-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"r","editOnDblClick":false},"editorMode":"ace/mode/r"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nX40.7281058286939 X.73.9996552194459 X40.6555639912583\n1          40.72811          -73.99966          40.65556\n  X.73.7830413920647 X40.6872784684164 X.73.9633743548282\n1          -73.78304          40.68728          -73.96337\n  X40.7733677075188 X.73.8657006623619 X40.8585246794872 X.73.598873992674\n1          40.77337           -73.8657          40.85852         -73.59887\n  X40.6972876332623 X.74.2037968695486 X40.7574090103997\n1          40.69729           -74.2038          40.75741\n  X.73.9795406890959\n1          -73.97954\n\n\n\n"}]},"apps":[],"jobName":"paragraph_1502435637895_1499208733","id":"20170811-001357_1327945137","dateCreated":"2017-08-11T00:13:57-0700","dateStarted":"2017-08-11T00:42:02-0700","dateFinished":"2017-08-11T00:42:02-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:263"},{"text":"%spark.r\n","user":"anonymous","dateUpdated":"2017-08-11T00:19:53-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"editOnDblClick":true},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1502435993251_672705154","id":"20170811-001953_1845565781","dateCreated":"2017-08-11T00:19:53-0700","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:264"}],"name":"Uber data Clustering (scala)","id":"2CPKPZ63R","angularObjects":{"2CPJ3QQS3:shared_process":[],"2CQ3S9HXD:shared_process":[],"2CP38XEE1:shared_process":[],"2CR4FAJ3K:shared_process":[],"2CRKKWAUN:shared_process":[],"2CNWX8NRS:shared_process":[],"2CPXTNX5C:shared_process":[],"2CPSM3TXG:shared_process":[],"2CPR5WWTB:shared_process":[],"2CR74YFC6:shared_process":[],"2CSBECX5Q:shared_process":[],"2CRDJS65D:shared_process":[],"2CPVTQEZJ:shared_process":[],"2CQ2MRVY1:shared_process":[],"2CRA42DNP:shared_process":[],"2CP62B91C:shared_process":[],"2CPBK8F2A:shared_process":[],"2CPU3V8PF:shared_process":[],"2CQPR1QSH:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}